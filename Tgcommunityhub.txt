-- Tắt GUI lỗi trước đó (nếu có)
if _G.HubRunning then
    _G.HubRunning:Destroy()
end

-- Khởi tạo GUI cơ bản
local MainFrame = Instance.new("Frame")
MainFrame.Name = "CustomHub_Candeptrai"
MainFrame.Size = UDim2.new(0, 450, 0, 300)
MainFrame.Position = UDim2.new(0.5, -225, 0.5, -150)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.ZIndex = 10 
MainFrame.Parent = game.CoreGui
_G.HubRunning = MainFrame 

-- Tiêu đề
local Header = Instance.new("TextLabel")
Header.Text = "Cận đẹp zai | Tổng hợp"
Header.Size = UDim2.new(1, 0, 0, 30)
Header.Position = UDim2.new(0, 0, 0, 0)
Header.BackgroundColor3 = Color3.fromRGB(80, 50, 100) -- Màu Tím Amethyst
Header.TextColor3 = Color3.fromRGB(255, 255, 255)
Header.Font = Enum.Font.SourceSansBold
Header.TextSize = 18
Header.Parent = MainFrame

-- Nút đóng
local CloseButton = Instance.new("TextButton")
CloseButton.Text = "X"
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -30, 0, 0)
CloseButton.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.Font = Enum.Font.SourceSansBold
CloseButton.TextSize = 20
CloseButton.Parent = MainFrame

CloseButton.MouseButton1Click:Connect(function()
    MainFrame.Visible = false
end)

-- Tạo Frame cho các Tab
local TabFrame = Instance.new("Frame")
TabFrame.Size = UDim2.new(1, 0, 1, -30) -- Trừ đi chiều cao Header
TabFrame.Position = UDim2.new(0, 0, 0, 30)
TabFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
TabFrame.Parent = MainFrame

-- Tạo Layout cho Tab
local TabList = Instance.new("UIListLayout")
TabList.Padding = UDim.new(0, 5)
TabList.SortOrder = Enum.SortOrder.LayoutOrder
TabList.Parent = TabFrame

-- Tạo các Tab
local tabs = {}
local TabNames = {"Thông Tin", "Script Blox Fruit", "Plants vs Brainrot", "99 nights in forest", "Steal a Brainrot", "Script troll"}
local ScriptUrls = {
    -- Thông Tin (Không có script)
    nil,
    -- Script Blox Fruit (W-Azure)
    "https://api.luarmor.net/files/v3/loaders/3b2169cf53bc6104dabe8e19562e5cc2.lua",
    -- Plants vs Brainrot (Speedxhub)
    "https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua",
    -- 99 nights in forest (Foxname)
    "https://raw.githubusercontent.com/caomod2077/Script/refs/heads/main/FoxnameHub.lua",
    -- Steal a Brainrot (Tạm thời)
    nil,
    -- Script troll (Tạm thời)
    nil
}
local Descriptions = {
    "Discord, Tiktok", 
    "Load W-Azure", 
    "Speedxhub (cần Key)", 
    "Foxname Loader", 
    "Cập nhật sắp tới", 
    "Cập nhật sắp tới"
}

for i, name in ipairs(TabNames) do
    local Button = Instance.new("TextButton")
    Button.Name = name
    Button.Text = name
    Button.Size = UDim2.new(1, 0, 0, 40)
    Button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.Font = Enum.Font.SourceSans
    Button.TextSize = 16
    Button.Parent = TabFrame
    
    local url = ScriptUrls[i]
    local desc = Descriptions[i]

    -- Thêm chức năng
    if url then
        Button.MouseButton1Click:Connect(function()
            Button.Text = "Loading..."
            loadstring(game:HttpGet(url))()
            wait(2)
            Button.Text = name
        end)
    else
        -- Chức năng cho Tab Thông Tin
        if name == "Thông Tin" then
            Button.MouseButton1Click:Connect(function()
                setclipboard("Hãy liên hệ Discord: https://discord.gg/MxSpY55t")
            end)
        else -- Tab tạm thời (Steal, Troll)
            Button.MouseButton1Click:Connect(function()
                Button.Text = desc .. " (Copied!)"
                setclipboard(desc)
                wait(2)
                Button.Text = name
            end)
        end
    end
    
    table.insert(tabs, Button)
end

-- Nút Bật/Tắt Riêng Biệt (Nếu cần)
local ToggleKey = Enum.KeyCode.Insert -- Đổi sang phím INSERT để tránh xung đột
game:GetService("UserInputService").InputBegan:Connect(function(input, gameProcessedEvent)
    if input.KeyCode == ToggleKey and not gameProcessedEvent then
        MainFrame.Visible = not MainFrame.Visible
    end
end)

print("Hub đã khởi tạo thành công! Nhấn phím INSERT để ẩn/hiện.")
