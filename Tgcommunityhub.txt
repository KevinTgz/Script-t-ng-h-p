-- BƯỚC 1: Xóa mọi GUI cũ để tránh xung đột
local old_hub = game.CoreGui:FindFirstChild("CANDEPTRAI_HUB_FINAL_V6")
if old_hub then
    old_hub:Destroy()
end

-- BƯỚC 2: Khởi tạo GUI cơ bản (100% code gốc Roblox)
local MainFrame = Instance.new("Frame")
MainFrame.Name = "CANDEPTRAI_HUB_FINAL_V6" -- Đổi tên để tránh bị Executor chặn
MainFrame.Size = UDim2.new(0, 450, 0, 300)
MainFrame.Position = UDim2.new(0.5, -225, 0.5, -150)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.ZIndex = 10 
MainFrame.Parent = game.CoreGui

-- Tiêu đề
local Header = Instance.new("TextLabel")
Header.Text = "CẬN ĐẸP ZAI | TỔNG HỢP V6"
Header.Size = UDim2.new(1, 0, 0, 30)
Header.Position = UDim2.new(0, 0, 0, 0)
Header.BackgroundColor3 = Color3.fromRGB(80, 50, 100)
Header.TextColor3 = Color3.fromRGB(255, 255, 255)
Header.Font = Enum.Font.SourceSansBold
Header.TextSize = 18
Header.Parent = MainFrame

-- Nút đóng
local CloseButton = Instance.new("TextButton")
CloseButton.Text = "X"
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -30, 0, 0)
CloseButton.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.Font = Enum.Font.SourceSansBold
CloseButton.TextSize = 20
CloseButton.Parent = MainFrame

CloseButton.MouseButton1Click:Connect(function()
    MainFrame.Visible = false
end)

-- Tạo Frame chứa các nút (đóng vai trò như các Tab)
local TabFrame = Instance.new("Frame")
TabFrame.Size = UDim2.new(1, -10, 1, -40) -- Kích thước cho nội dung chính
TabFrame.Position = UDim2.new(0, 5, 0, 35)
TabFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
TabFrame.Parent = MainFrame

-- Tạo Layout cho các nút
local TabList = Instance.new("UIListLayout")
TabList.Padding = UDim.new(0, 5)
TabList.SortOrder = Enum.SortOrder.LayoutOrder
TabList.Parent = TabFrame

-- Cài đặt tự động cuộn (Scroll)
local ScrollingFrame = Instance.new("ScrollingFrame")
ScrollingFrame.Size = UDim2.new(1, 0, 1, 0)
ScrollingFrame.BackgroundTransparency = 1
ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 0) -- Sẽ được cập nhật tự động
ScrollingFrame.ScrollBarThickness = 8
ScrollingFrame.Parent = TabFrame

-- Nội dung sẽ nằm trong ScrollingFrame
TabList.Parent = ScrollingFrame

-- Danh sách các nút
local ButtonData = {
    -- Tên, Mô tả, URL Script (nil nếu là liên kết)
    {"DISCORD (Thông Tin)", "Copy Discord Link", "https://discord.gg/MxSpY55t"},
    {"TIKTOK 1", "Copy Tiktok 1 Link", "https://www.tiktok.com/@dat100kfollowdoiten?_t=ZS-90IBxByWeiV&_r=1"},
    {"TIKTOK 2", "Copy Tiktok 2 Link", "https://www.tiktok.com/@dat100kfollowdoiten?_t=ZS-90IBxByWeiV&_r=1"},
    {"W-AZURE (Blox Fruit)", "Load Script W-Azure", "https://api.luarmor.net/files/v3/loaders/3b2169cf53bc6104dabe8e19562e5cc2.lua"},
    {"GREENZ HUB (Blox Fruit)", "Load Script GreenZ Hub", "https://raw.githubusercontent.com/LuaAnarchist/GreenZ-Hub/refs/heads/main/KaitunDoughKing.lua"},
    {"SPEEDXHUB (Plants vs Brainrot)", "Load Script (Cần Key)", "https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua"},
    {"FOXNAME (99 nights)", "Load Script Foxname", "https://raw.githubusercontent.com/caomod2077/Script/refs/heads/main/FoxnameHub.lua"},
    {"RINGTA (99 nights)", "Load Script Ringta", "https://raw.githubusercontent.com/wefwef127382/99daysloader.github.io/refs/heads/main/ringta.lua"},
    {"VOIDWARE (99 nights)", "Load Script VoidWare", "https://raw.githubusercontent.com/VapeVoidware/VW-Add/main/nightsintheforest.lua", true},
    {"STEAL BRAINROT (Updating)", "Cập nhật sắp tới (Copy Link)", nil},
    {"SCRIPT TROLL (Updating)", "Cập nhật sắp tới (Copy Link)", nil}
}

for i, data in ipairs(ButtonData) do
    local name, desc, url = unpack(data)
    
    local Button = Instance.new("TextButton")
    Button.Name = name
    Button.Text = name .. " - (" .. desc .. ")"
    Button.Size = UDim2.new(1, 0, 0, 40)
    Button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.Font = Enum.Font.SourceSans
    Button.TextSize = 14
    Button.Parent = ScrollingFrame
    
    Button.MouseButton1Click:Connect(function()
        if url and string.sub(url, 1, 4) == "http" then
            -- Chức năng tải script
            Button.Text = "Loading: " .. name .. "..."
            loadstring(game:HttpGet(url))()
            wait(2)
            Button.Text = name .. " - (" .. desc .. ")"
        else
            -- Chức năng Copy Link hoặc Thông báo
            Button.Text = desc .. " (Copied!)"
            if url then setclipboard(url) else setclipboard(desc) end
            wait(2)
            Button.Text = name .. " - (" .. desc .. ")"
        end
    end)
end

-- Cập nhật CanvasSize để bật cuộn
ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, TabList.AbsoluteContentSize.Y)

-- Nút Bật/Tắt bằng phím
local ToggleKey = Enum.KeyCode.Insert -- Phím INSERT
game:GetService("UserInputService").InputBegan:Connect(function(input, gameProcessedEvent)
    if input.KeyCode == ToggleKey and not gameProcessedEvent then
        MainFrame.Visible = not MainFrame.Visible
    end
end)

print("Hub đã khởi tạo thành công! Nhấn phím INSERT để ẩn/hiện.")
